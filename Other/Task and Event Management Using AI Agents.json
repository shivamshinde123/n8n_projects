{
  "name": "Task and Event Management Using AI Agents",
  "nodes": [
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.chatTrigger",
      "typeVersion": 1.1,
      "position": [
        -304,
        -64
      ],
      "id": "6296c44e-dfc3-4c20-9fc7-90b8866bc421",
      "name": "When chat message received",
      "webhookId": "f942207e-c9ba-4c40-ac06-cca7e724bb70"
    },
    {
      "parameters": {
        "options": {
          "systemMessage": "=You are a helpful assistant.\nThe current date is {{ $now }}.\n\n## AGENT INSTRUCTIONS\n- Create an event with the gooogle calendar create event tool\n- Search an event with the google calendar search event tool\n- Update an event with the google calendar update event tool. Before you do this, always make sure to search for the event first to find the right record.\n\n## RULES\n\n- All dates must be structured in accord to this structure: 02/20/2025. In other words, it must be  MM/DD/YYYY\n- Before updating a google sheet, please find the record first with the google sheet search field."
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 2.1,
      "position": [
        -96,
        -80
      ],
      "id": "428e6526-e670-4a7d-9281-76fff04d28f1",
      "name": "AI Agent"
    },
    {
      "parameters": {
        "contextWindowLength": 10
      },
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "typeVersion": 1.3,
      "position": [
        -64,
        192
      ],
      "id": "7a4aa043-c702-4a37-9adc-6eb7ced9711b",
      "name": "Simple Memory"
    },
    {
      "parameters": {
        "calendar": {
          "__rl": true,
          "value": "shivamdattatrayshinde@gmail.com",
          "mode": "list",
          "cachedResultName": "shivamdattatrayshinde@gmail.com"
        },
        "start": "={{ $fromAI(\"startTime\", \"This is the start time of the event.\") }}",
        "end": "={{ $fromAI(\"endTime\", \"This is the end time of the event.\") }}",
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.googleCalendarTool",
      "typeVersion": 1.3,
      "position": [
        112,
        176
      ],
      "id": "052f13c4-3bd1-4e08-ae30-aae60236ef0a",
      "name": "Create an event in Google Calendar",
      "credentials": {
        "googleCalendarOAuth2Api": {
          "id": "QBXBuWBy0rVY5tMl",
          "name": "Google Calendar account"
        }
      }
    },
    {
      "parameters": {
        "descriptionType": "manual",
        "toolDescription": "Get many events in Google Calendar",
        "operation": "getAll",
        "calendar": {
          "__rl": true,
          "value": "shivamdattatrayshinde@gmail.com",
          "mode": "list",
          "cachedResultName": "shivamdattatrayshinde@gmail.com"
        },
        "timeMin": "={{ $fromAI(\"afterDate\", \"This is the time the user wants to search the event past\") }}",
        "timeMax": "={{ $fromAI(\"beforeDate\", \"This is the time the user wants to search the event before\") }}",
        "options": {}
      },
      "type": "n8n-nodes-base.googleCalendarTool",
      "typeVersion": 1.3,
      "position": [
        288,
        176
      ],
      "id": "b7fe62c6-32bd-4398-abdd-d6220b4dfa52",
      "name": "Get many events in Google Calendar",
      "credentials": {
        "googleCalendarOAuth2Api": {
          "id": "QBXBuWBy0rVY5tMl",
          "name": "Google Calendar account"
        }
      }
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "value": "gpt-3.5-turbo",
          "mode": "list",
          "cachedResultName": "gpt-3.5-turbo"
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.2,
      "position": [
        -240,
        192
      ],
      "id": "81dea6ef-3ea6-48d9-920e-2b0415714f7e",
      "name": "OpenAI Chat Model",
      "credentials": {
        "openAiApi": {
          "id": "yfBZ7JJfrMmpcnge",
          "name": "OpenAi account"
        }
      }
    },
    {
      "parameters": {
        "documentId": {
          "__rl": true,
          "value": "1rsNf_8CMCqQp0M3Qf4gxdHbBmCmhiqowydf2611ACQg",
          "mode": "id"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "Sheet1",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1rsNf_8CMCqQp0M3Qf4gxdHbBmCmhiqowydf2611ACQg/edit#gid=0"
        },
        "filtersUI": {
          "values": [
            {
              "lookupColumn": "=Due Date",
              "lookupValue": "={{ $fromAI(\"dueDate\", \"This is the date the task is due on.\") }}"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheetsTool",
      "typeVersion": 4.6,
      "position": [
        640,
        176
      ],
      "id": "020eec4c-e674-401a-8291-f2300783316e",
      "name": "Get row(s) in sheet in Google Sheets",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "QPyBBzWHIos7ZWme",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "operation": "append",
        "documentId": {
          "__rl": true,
          "value": "1rsNf_8CMCqQp0M3Qf4gxdHbBmCmhiqowydf2611ACQg",
          "mode": "id"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "Sheet1",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1rsNf_8CMCqQp0M3Qf4gxdHbBmCmhiqowydf2611ACQg/edit#gid=0"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "Task Name": "={{ $fromAI(\"taskName\", \"This is the name of the task\") }}",
            "Description": "={{ $fromAI(\"taskDescription\", \"This is the task description\") }}",
            "Due Date": "={{ $fromAI(\"taskDueDate\",\"This is the task due date\") }}",
            "Priority": "={{ $fromAI(\"taskPriority\",\"This is the task priority. Please choose one of the priority from the list: Low, Medium, High\") }}"
          },
          "matchingColumns": [
            "Due Date"
          ],
          "schema": [
            {
              "id": "Task Name",
              "displayName": "Task Name",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "Description",
              "displayName": "Description",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "Due Date",
              "displayName": "Due Date",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Priority",
              "displayName": "Priority",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheetsTool",
      "typeVersion": 4.6,
      "position": [
        464,
        176
      ],
      "id": "0f3a5e51-498e-4ac4-9d1c-3a8c9c364e5e",
      "name": "Append row in sheet in Google Sheets1",
      "executeOnce": true,
      "alwaysOutputData": false,
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "QPyBBzWHIos7ZWme",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "1rsNf_8CMCqQp0M3Qf4gxdHbBmCmhiqowydf2611ACQg",
          "mode": "id"
        },
        "sheetName": {
          "__rl": true,
          "value": "Sheet1",
          "mode": "name"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "Task Name": "={{ $fromAI(\"taskName\", \"This is the task name.\") }}",
            "Description": "={{ $fromAI(\"taskDescription\", \"This is the task description.\") }}",
            "Due Date": "={{ $fromAI(\"taskDueDate\", \"This is the task due date.\") }}",
            "Priority": "={{ $fromAI(\"taskPriority\", \"This is the task priority. Choose from the following three priorities: Low, Medium, High\") }}"
          },
          "matchingColumns": [
            "Due Date"
          ],
          "schema": [
            {
              "id": "Task Name",
              "displayName": "Task Name",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Description",
              "displayName": "Description",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Due Date",
              "displayName": "Due Date",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Priority",
              "displayName": "Priority",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "row_number",
              "displayName": "row_number",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "number",
              "canBeUsedToMatch": true,
              "readOnly": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheetsTool",
      "typeVersion": 4.6,
      "position": [
        816,
        176
      ],
      "id": "57a7c05c-3817-4d56-ba8b-4e52bbf6632c",
      "name": "Update row in sheet in Google Sheets",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "QPyBBzWHIos7ZWme",
          "name": "Google Sheets account"
        }
      }
    }
  ],
  "pinData": {},
  "connections": {
    "When chat message received": {
      "main": [
        [
          {
            "node": "AI Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Simple Memory": {
      "ai_memory": [
        [
          {
            "node": "AI Agent",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "Create an event in Google Calendar": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "AI Agent": {
      "main": [
        []
      ]
    },
    "Get many events in Google Calendar": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Get row(s) in sheet in Google Sheets": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Append row in sheet in Google Sheets1": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Update row in sheet in Google Sheets": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": false,
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "bcd41f73-7ac4-49de-9579-57dd23b20374",
  "meta": {
    "templateCredsSetupCompleted": true,
    "instanceId": "52e5473b2279c5b1a5f9d080c7d0c47d20d3d92f52e5b7c6a17196d1f16e7b2c"
  },
  "id": "bUMHryz1HVQvgbaM",
  "tags": []
}